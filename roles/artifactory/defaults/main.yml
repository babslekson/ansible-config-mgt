---
# defaults file for artifactory
# indicates were this collection was downlaoded from (galaxy, automation_hub, standalone)
ansible_marketplace: standalone
platform_collection_version: 10.18.0

# The version of Artifactory to install
artifactory_version: 7.84.10

# licenses file - specify a licenses file or specify up to 5 licenses
artifactory_license1:
artifactory_license2:
artifactory_license3:
artifactory_license4:
artifactory_license5:

# whether to enable HA
artifactory_ha_enabled: true

# value for whether a host is primary. this should be set in host vars
artifactory_is_primary: true

# The location where Artifactory should install.
artifactory_download_directory: /opt/jfrog
# The location where Artifactory should store data.
artifactory_file_store_dir: /data

# Pick the Artifactory flavour to install, can be also cpp-ce, jcr, pro.
artifactory_flavour: pro

extra_java_opts: -server -Xms2g -Xmx14g -Xss256k -XX:+UseG1GC

artifactory_tar_file_name: jfrog-artifactory-pro-{{ artifactory_version }}-linux.tar.gz
artifactory_tar: "https://releases.jfrog.io/artifactory/artifactory-pro/org/artifactory/pro/jfrog-artifactory-pro/\
  {{ artifactory_version }}/{{ artifactory_tar_file_name }}"

artifactory_home: "{{ artifactory_download_directory }}/artifactory-{{ artifactory_flavour }}-{{ artifactory_version }}"

artifactory_user: artifactory
artifactory_group: artifactory

postgres_driver_version: 42.7.3
db_download_url: "https://repo1.maven.org/maven2/org/postgresql/postgresql/\
  {{ postgres_driver_version }}/postgresql-{{ postgres_driver_version }}.jar"

db_type: postgresql
db_driver: org.postgresql.Driver
db_url: jdbc:postgresql://localhost:5432/artifactory
db_user: "artifactory"
db_password: "Artifact0ry"

# Set the parameters required for the service.
service_list:
  - name: artifactory
    description: Start script for Artifactory
    start_command: "{{ artifactory_home }}/bin/artifactory.sh start"
    stop_command: "{{ artifactory_home }}/bin/artifactory.sh stop"
    type: forking
    status_pattern: artifactory
    user_name: "{{ artifactory_user }}"
    group_name: "{{ artifactory_group }}"
